import{a as v,b as g}from"./index-CjtMRqRt.js";import{E as n}from"./element-aSOru_k-.js";import{l as h,r as d,c as b,ah as p,m as V,M as x,O as u,U as a,S as y}from"./vue-Bll-6hFI.js";import{_ as k}from"./index-B6msb5_W.js";import"./vxe-BvPjuzEQ.js";const q=h({name:"接口配置",__name:"other",setup(C){const e=d({prompt:"",threads:"",email_limit:""}),i=d(null),_={prompt:[{required:!0,message:"请填写默认提示语",trigger:"blur"}],threads:[{required:!0,message:"请填写默认线程数",trigger:"blur"}]};b(()=>{v().then(o=>{e.value=o.data})});function f(o){e.value,e.value.prompt,e.value.threads,e.value.email_limit,o==null||o.validate((t,r)=>{if(e.value,t)g({prompt:e.value.prompt,threads:e.value.threads,email_limit:e.value.email_limit}).then(l=>{l.code==0?n.success("保存成功"):n.error(l.message)}).catch(l=>{n.error(l)});else for(var m in r){r[m].forEach(l=>{n({message:l.message,type:"error"})});break}})}return(o,t)=>{const r=p("el-input"),m=p("el-form-item"),l=p("el-button"),c=p("el-form");return V(),x(c,{ref_key:"settingForm",ref:i,model:e.value,"label-width":"auto",style:{padding:"35px 20px"},rules:_},{default:u(()=>[a(m,{label:"默认提示语",required:"",prop:"prompt"},{default:u(()=>[a(r,{type:"textarea",rows:5,modelValue:e.value.prompt,"onUpdate:modelValue":t[0]||(t[0]=s=>e.value.prompt=s)},null,8,["modelValue"])]),_:1}),a(m,{label:"默认线程数",required:"",prop:"threads"},{default:u(()=>[a(r,{modelValue:e.value.threads,"onUpdate:modelValue":t[1]||(t[1]=s=>e.value.threads=s)},null,8,["modelValue"])]),_:1}),a(m,{label:"限定注册邮箱后缀",prop:"email_limit"},{default:u(()=>[a(r,{modelValue:e.value.email_limit,"onUpdate:modelValue":t[2]||(t[2]=s=>e.value.email_limit=s),placeholder:"多个用逗号隔开,完全匹配域名"},null,8,["modelValue"])]),_:1}),a(m,{class:"setting-btns"},{default:u(()=>[a(l,{type:"primary",onClick:t[3]||(t[3]=s=>f(i.value))},{default:u(()=>[y("保存")]),_:1})]),_:1})]),_:1},8,["model"])}}}),O=k(q,[["__scopeId","data-v-cd2b4f0d"]]);export{O as default};
